<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>‚ûï Math√©matiques ‚Äì Louise</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f2f6ff;
            text-align: center;
            padding: 30px;
        }

        .quiz-box {
            background: white;
            padding: 25px;
            max-width: 600px;
            margin: auto;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        button {
            display: block;
            width: 100%;
            margin: 10px 0;
            padding: 12px;
            font-size: 16px;
            border-radius: 8px;
            border: none;
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
        }

        button:hover {
            background-color: #45a049;
        }

#retourThemes {
    position: fixed;   /* toujours visible sur la page */
    top: 10px;         /* espace depuis le haut */
    left: 10px;        /* espace depuis la gauche */
    background-color: #ff5722;  /* couleur distinctive */
    color: white;
    font-size: 14px;   /* plus petit que les boutons du quiz */
    font-weight: bold;
    padding: 8px 12px;
    border-radius: 6px;
    z-index: 1000;     /* toujours au-dessus des autres √©l√©ments */
    cursor: pointer;
    border: none;
}

#retourThemes:hover {
    background-color: #e64a19;
}



    </style>
</head>
<body>
	<button id="retourThemes" onclick="retourThemes()">‚¨ÖÔ∏è Retour aux th√®mes</button>

    <h1>‚ûï Math√©matiques ‚Äì Louise</h1>

<p id="progression"></p>
<div style="background:#ddd; border-radius:10px; overflow:hidden;">
    <div id="barre" style="height:15px; width:0%; background:#4CAF50;"></div>
</div>


    <div class="quiz-box">
        <h2 id="question"></h2>
	<img id="image" style="max-width:100%; display:none; margin:15px 0;">
        <div id="reponses"></div>
    	<p id="feedback" style="font-size:18px; font-weight:bold;"></p>


    <button id="suivant" style="display:none;" onclick="questionSuivante()">    
        ‚û°Ô∏è Question suivante
    </button>

    </div>

<script>
    // Questions du quiz

const questions = [
    {
        question: "Combien font 7 √ó 6 ?",
        reponses: ["36", "42", "48"],
        bonneReponse: 1
    },
    {
        question: "Quel est le r√©sultat de 120 √∑ 10 ?",
        reponses: ["10", "12", "20"],
        bonneReponse: 1
    }
];

let indexQuestion = 0;
let score = 0;

function afficherQuestion() {
    document.getElementById("feedback").textContent = "";
    document.getElementById("suivant").style.display = "none";

    const q = questions[indexQuestion];
    document.getElementById("question").textContent = q.question;

    const img = document.getElementById("image");
    if (q.image) {
        img.src = q.image;
        img.style.display = "block";
    } else {
        img.style.display = "none";
    }

    const zoneReponses = document.getElementById("reponses");
    zoneReponses.innerHTML = "";

    // M√©langer les r√©ponses
    const reponsesMelangees = q.reponses
        .map((rep, index) => ({ texte: rep, indexOriginal: index }))
        .sort(() => Math.random() - 0.5); // tri al√©atoire

    reponsesMelangees.forEach(rep => {
        const bouton = document.createElement("button");
        bouton.textContent = rep.texte;
        bouton.onclick = () => verifierReponse(rep.indexOriginal);
        zoneReponses.appendChild(bouton);
    });

    // Mettre √† jour la barre de progression
    document.getElementById("barre").style.width =
        ((indexQuestion + 1) / questions.length * 100) + "%";
}


    // Mettre √† jour la barre de progression
document.getElementById("barre").style.width =
    ((indexQuestion + 1) / questions.length * 100) + "%";
 

function verifierReponse(indexChoisi) {
    const feedback = document.getElementById("feedback");
    const boutonSuivant = document.getElementById("suivant");

    const bonne = questions[indexQuestion].bonneReponse;
    const bonneValeur = questions[indexQuestion].reponses[bonne];

    if (indexChoisi === bonne) {
        score++;
        feedback.textContent = "‚úÖ Bonne r√©ponse !";
        feedback.style.color = "green";
    } else {
        feedback.textContent = "‚ùå Mauvaise r√©ponse. La bonne r√©ponse √©tait : " + bonneValeur;
        feedback.style.color = "red";
    }

    // D√©sactiver les boutons de r√©ponse
    document.querySelectorAll("#reponses button").forEach(b => b.disabled = true);

    // Afficher le bouton "Question suivante"
    boutonSuivant.style.display = "block";
}

function questionSuivante() {
    indexQuestion++;

    document.getElementById("feedback").textContent = "";

    if (indexQuestion < questions.length) {
        afficherQuestion();
    } else {
        afficherResultat();
    }
}



function melanger(tableau) {
    for (let i = tableau.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [tableau[i], tableau[j]] = [tableau[j], tableau[i]];
    }
}

function afficherResultat() {
    // R√©cup√©rer le meilleur score stock√©
    const meilleurScore = localStorage.getItem("meilleurScore") || 0;

    // Mettre √† jour le meilleur score si le score actuel est plus √©lev√©
    if (score > meilleurScore) {
        localStorage.setItem("meilleurScore", score);
    }

    document.querySelector(".quiz-box").innerHTML =
        `<h2>üéâ Fin du quiz !</h2>
         <p>Score : ${score} / ${questions.length}</p>
         <p>Meilleur score : ${Math.max(score, meilleurScore)} / ${questions.length}</p>
         <a href="Louise.html">‚¨Ö Retour aux th√®mes</a><br><br>
         <a href="index.html">üè† Accueil</a><br><br>
         <button id="rejouerBtn">üîÑ Rejouer</button>`;

 // Lier le bouton Rejouer apr√®s qu‚Äôil soit dans le DOM
    document.getElementById("rejouerBtn").addEventListener("click", rejouerQuiz);
}

function rejouerQuiz() {
    indexQuestion = 0;
    score = 0;
    melanger(questions); // pour m√©langer les questions √† nouveau
    afficherQuestion();
}

melanger(questions);

afficherQuestion()
document.getElementById("suivant").style.display = "none";
document.getElementById("feedback").textContent = "";

;

function retourThemes() {
    // Remplace "Louise.html" par la page sur laquelle tu veux revenir
    window.location.href = "index.html";
}


</script>

</body>
</html>
